@using System.Web;
@using System.Linq;
@using ContentModels = Umbraco.Web.PublishedModels;
@inherits Umbraco.Web.Mvc.UmbracoViewPage<ContentModels.PasslePost>
@{
    Layout = "Layout.cshtml";

    var post = (ContentModels.Post)Umbraco.AssignedContentItem;
    var passleSubscribeLink = "";
    var avatarUrl = "";
}


<div class="page-container">
    <div class="page-subnav">
        <div class="subnav-left">
            <div class="breadcrumb">
                < <a href="/">All Posts</a>
            </div>
            <div class="passle-subscribe">
                <a class="button" href="@passleSubscribeLink" target="_blank" rel="noreferrer noopener">
                    <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 53.78 45.94">
                        <circle class="cls-1" cx="31.4" cy="8.11" r="4.93"></circle>
                        <circle class="cls-1" cx="14.95" cy="18.99" r="4.93" transform="translate(-6.19 30.7) rotate(-80.78)"></circle>
                        <path class="cls-2" d="M40,15.8a14.89,14.89,0,0,0-3.17-1.69,8.11,8.11,0,1,0-10.92,0l-.66.27A15,15,0,0,0,22.47,16L23,19.65A11.94,11.94,0,0,1,38.2,18.41,1.59,1.59,0,0,0,40,15.8ZM31.4,13a4.93,4.93,0,1,1,4.93-4.92A4.93,4.93,0,0,1,31.4,13Z"></path>
                        <path class="cls-3" d="M15,10.88A8.1,8.1,0,0,0,9.46,25,15.33,15.33,0,0,0,.23,34.46a4.77,4.77,0,0,0,4.54,6.23H18.6a1.59,1.59,0,1,0,0-3.17H4.77a1.6,1.6,0,0,1-1.51-2.08,12.26,12.26,0,0,1,11.65-8.3,11.92,11.92,0,0,1,6.84,2.14,1.59,1.59,0,1,0,1.82-2.6A15.39,15.39,0,0,0,20.4,25,8.07,8.07,0,0,0,23,19.65L22.47,16A8.12,8.12,0,0,0,15,10.88Zm0,13A4.93,4.93,0,1,1,19.88,19,4.93,4.93,0,0,1,15,23.91Z"></path>
                        <path class="cls-2" d="M51.14,45.94a2.19,2.19,0,0,0,1.49-.56L45.4,38.14c-.18.12-.35.24-.5.36q-.82.6-1.32.93a8.33,8.33,0,0,1-1.35.69,4.15,4.15,0,0,1-1.57.35h0a4.14,4.14,0,0,1-1.56-.35,7.93,7.93,0,0,1-1.35-.69q-.51-.33-1.32-.93l-.5-.36-7.24,7.24a2.22,2.22,0,0,0,1.5.56Zm.3,0"></path>
                        <path class="cls-2" d="M28.88,33.17a7.94,7.94,0,0,1-1.49-1.27V43.22L34,36.66c-1.32-.91-3-2.08-5.08-3.49Zm.11,0"></path>
                        <path class="cls-2" d="M52.2,33.17c-2,1.36-3.69,2.52-5.09,3.5l6.56,6.55V31.9a7.91,7.91,0,0,1-1.47,1.27Zm.12,0"></path>
                        <path class="cls-2" d="M51.44,25.14H29.86a2.09,2.09,0,0,0-1.74.76,3,3,0,0,0-.61,1.91,3.43,3.43,0,0,0,.81,2A7.36,7.36,0,0,0,30,31.5l3,2.09,2.36,1.64,1.48,1,.22.15.4.3.79.55.77.48a4.41,4.41,0,0,0,.84.39,2.34,2.34,0,0,0,.73.14h0a2.34,2.34,0,0,0,.74-.14,4.41,4.41,0,0,0,.84-.39l.76-.48.79-.55.41-.3.22-.15,1.48-1,5.38-3.74a7.12,7.12,0,0,0,1.79-1.8,3.84,3.84,0,0,0,.71-2.21,2.26,2.26,0,0,0-.69-1.66,2.28,2.28,0,0,0-1.65-.69Zm0,.1"></path>
                    </svg>
                    <span>Subscribe</span>
                </a>
            </div>
        </div>
        <div class="search-bar-container">
            <i class="fas fa-search"></i>
            <input class="search-bar" type="text" placeholder="Search for posts or authors" />
        </div>
    </div>
    <div class="page-body post-page">
        <div class="post-header">
            <div class="post-title">
                <h1>@post.Value("postTitle")</h1>
            </div>
            <div class="post-sub-header">
                <div class="post-details">
                    <p class="post-date">
                        @post.Value("publishedDate") | @post.Value("estimatedReadTimeInSeconds") min read
                    </p>
                    <div class="post-author-container">
                        <div class="post-author-banner"></div>
                        @if (!string.IsNullOrEmpty(post.Value<String>("authors")))
                        {
                            <a href="#">
                                <div class="post-author-details">
                                    <img class="post-author-image" src="@avatarUrl" />
                                    <div>
                                        <h3 class="post-author-name">@post.Value("authors")</h3>
                                        <h4 class="post-author-role">Developer, Passle</h4>
                                    </div>
                                </div>
                            </a>
                        }
                    </div>
                </div>
                <div class="post-featured-item">
                    @Html.Raw(HttpUtility.HtmlDecode(post.Value<String>("featuredItemHTML")))
                </div>
            </div>
        </div>
        <div class="post-header-bottom">
            <div class="post-social-links" id="share-buttons">
                <a href="#" onclick="window.open('https://www.passle.localhost/istatoy?postShortcode=@post.Value("postShortcode")&istatoySource=ClientWeb', '_blank', 'height=600, width=600, toolbar=no, menubar=no, scrollbars=yes, resizable=yes, location=no, directories=no, status=no');">
                    <svg id="Layer_1" class="istatoy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 362.6 361.2">
                        <style>
                            .st0 {
                                fill: none;
                            }

                            .st1 {
                                fill: #333;
                                stroke: #cccccc75;
                                stroke-width: 3;
                                stroke-miterlimit: 10;
                            }

                            .st2 {
                                fill: none;
                                stroke: #333;
                                stroke-width: 3;
                                stroke-miterlimit: 10;
                            }

                            .st3 {
                                fill: #333;
                                stroke: #cccccc75;
                                stroke-width: 24;
                                stroke-miterlimit: 10;
                            }

                            .st4 {
                                fill: #333;
                                stroke: #cccccc75;
                                stroke-width: 24;
                                stroke-miterlimit: 10;
                            }
                        </style>
                        <path class="st0" d="M70.1 271.5c-11.8-18.7-18.7-40.8-18.7-64.5v.1c0 23.7 6.9 45.7 18.7 64.4z" />
                        <path class="st1" d="M70.5 271.1c-11.9-18.7-18.9-40.8-19-64.6v.5c0 23.7 6.9 45.8 18.7 64.5l.3-.4zm205 .8c11.9-18.8 18.8-40.9 18.8-64.8v-.6c-.1 23.9-7.2 46.2-19.3 64.9l.5.5z" />
                        <path class="st2" d="M70.1 271.5c21.4 34.3 59.4 57.1 102.8 57.1h.1c-43.4-.1-81.4-22.9-102.9-57.1z" />
                        <path class="st1" d="M172.9 327.4c-43.1 0-80.9-22.5-102.4-56.3l-.4.4c21.5 34.2 59.5 57.1 102.9 57.1 43.2 0 81-22.7 102.5-56.7l-.4-.4c-21.6 33.6-59.3 55.9-102.2 55.9z" />
                        <path class="st2" d="M52.1 194c-.1.5-.1 1-.1 1.4.1-.4.1-.9.1-1.4z" />
                        <path class="st2" d="M52.1 194c1.8-16.8 7.1-32.6 15.1-46.7 20.9-36.8 60.3-61.7 105.7-61.7 44.6 0 83.4 24.1 104.6 59.9 10.6 17.9 16.8 38.7 16.9 61v-.6c0-67.1-54.4-121.5-121.5-121.5S51.4 138.8 51.4 205.9v.6c0-3.7.2-7.4.6-11.1.1-.4.1-.9.1-1.4z" />
                        <path class="st3" d="M236.7 187.2c6.7 4.1 13 9 18.7 14.8l70.9 70.9c17.1-26.6 27.2-58.2 27.3-92.1-.2-31.6-8.9-61.1-23.9-86.6l-93 93zm-130.3 14.7c5.2-5.2 10.7-9.7 16.6-13.5L31.4 96.8c-11.3 20-18.8 42.3-21.4 66.2-.1.7-.1 1.3-.2 2-.5 5.2-.8 10.4-.8 15.7.2 33.7 10.1 65.1 27 91.6l70.4-70.4z" />
                        <path class="st3" d="M181.3 352.2c60.9 0 114.4-31.7 145-79.4l-70.9-70.9c-5.8-5.8-12.1-10.6-18.7-14.8l-43.2 43.2c-7.8 7.8-20.6 7.8-28.4 0l-42-42c-5.9 3.9-11.5 8.4-16.6 13.5L36 272.3c30.6 48 84.2 79.9 145.3 79.9z" />
                        <path class="st4" d="M329.9 94.1C299.9 43.2 244.7 9 181.3 9 116.9 9 60.8 44.4 31.1 96.7c0 0 136.6 137.5 148.1 137.2 11 .3 150.7-139.8 150.7-139.8z" />
                    </svg>
                </a>
                <a href="@post.Value("linkedInShareUrl")" target="_blank">
                    <i class="fab fa-linkedin-in" title="LinkedIn"></i>
                </a>
                <a href="@post.Value("twitterShareUrl")" target="_blank">
                    <i class="fab fa-twitter" title="Twitter"></i>
                </a>
                <a href="@post.Value("facebookShareUrl")" target="_blank">
                    <i class="fab fa-facebook-f" title="Facebook"></i>
                </a>
                <a href="@post.Value("xingShareUrl")" target="_blank">
                    <i class="fab fa-xing" title="XING"></i>
                </a>
                <span class="istatoy-button-placeholder"></span>
            </div>
        </div>
        <div class="post-body">
            <div class="post-body-side-bar">
                <div class="post-passle-stylistic">
                    @((post.Value<String>("passleTitle"))?.ToUpper() ?? "")
                </div>
            </div>
            <div class="post-body-content">
                <div class="post-body-text">
                    @Html.Raw(post.Value("postBody"))
                </div>
                <div class="post-body-tags">
                    @if (!string.IsNullOrEmpty(@post.Value<String>("tags")))
                    {
                        <h3>Tags</h3>
                        <div class="post-body-tags-list">
                            @post.Value("tags")
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

@section styles {
    <style>
        .passle-subscribe {
            justify-content: right;
            display: flex;
            margin-right: -20px;
        }

            .passle-subscribe > a {
                background-color: #FF5271;
                color: #fff;
                text-decoration: none;
                padding: 9px 24px 9px 24px;
                font-size: 16px;
                font-family: "Bodoni Moda", sans-serif !important;
                letter-spacing: .64px;
            }

                .passle-subscribe > a:hover, .passle-subscribe > a:focus {
                    background-color: #f14c6a;
                    color: #fff;
                    text-decoration: none;
                }

                .passle-subscribe > a > svg {
                    fill: #fff;
                    width: 19px;
                    height: 18px;
                    margin-right: 5px;
                    position: relative;
                    top: 3px;
                }

        .post-page {
            flex-direction: column;
        }

        .post-header {
            background-color: #fff;
            padding: 20px 60px 0 60px;
        }

        .post-title {
            padding-bottom: 60px;
        }

            .post-title > h1 {
                font-size: 55px;
                line-height: 1.4;
                font-weight: 600;
            }

        .post-author-container {
            height: 140px;
            color: #fff;
        }

            .post-author-container > a {
                text-decoration: none;
                color: #fff;
            }

                .post-author-container > a:hover, .post-author-container > a:focus {
                    color: #fff !important;
                    text-decoration: none !important;
                }

        .post-author-details {
            display: flex;
            column-gap: 20px;
            padding-top: 20px;
        }

            .post-author-details > div {
                position: relative;
                margin: auto 0;
            }

                .post-author-details > div > h3 {
                    margin-top: 0;
                }

        .post-author-name {
            text-decoration: underline;
        }

        .post-author-role {
            text-decoration: none !important;
        }


        .post-author-banner {
            width: 100vw;
            left: 0;
            position: absolute;
            background-color: #ff5271;
            height: 140px;
        }

        .post-author-image {
            height: 100px;
            position: relative;
        }

        .post-sub-header {
            display: flex;
            column-gap: 20px;
            max-height: 170px;
        }

        .post-details {
            flex-grow: 2;
            min-width: 40%;
        }

        .post-featured-item {
            flex-grow: 3;
            position: relative;
            max-height: 280px;
            max-width: 60%;
            vertical-align: middle;
            margin-top: -40px;
            margin-bottom: -60px;
            z-index: 2;
        }

            .post-featured-item > .featured-item--image,
            .post-featured-item > .featured-item--video,
            .post-featured-item > .featured-item--embed {
                width: 100%;
                height: 100%;
                position: relative;
            }

                .post-featured-item > .featured-item--image > img {
                    max-height: 100%;
                    max-width: 100%;
                    border: 1px solid #ccc;
                    float: right;
                }

                .post-featured-item > .featured-item--video > div {
                    height: 100%;
                    width: 100%;
                    border: 1px solid #ccc;
                    float: right;
                }

                    .post-featured-item > .featured-item--video > div > iframe {
                        max-width: 100%;
                        max-height: 100%;
                        height: 100%;
                        width: 100%;
                    }

                .post-featured-item > .featured-item--embed > iframe {
                    max-width: 100%;
                    max-height: 100%;
                    height: 100%;
                    width: 100%;
                }


        .post-header-bottom {
            background-color: #cccccc75;
            z-index: 1;
            width: calc(100% - 60px);
        }

        .post-social-links {
            height: 30px;
            color: #333;
            margin-left: calc(15% + 80px);
            padding-top: 4px;
        }

            .post-social-links > a {
                color: #333;
                margin: 8px;
            }

                .post-social-links > a > i {
                    width: 18px;
                    font-size: 16px;
                }

                .post-social-links > a:hover, .post-social-links > a:focus {
                    text-decoration: none;
                }

                    .post-social-links > a:hover > .fa-linkedin-in, .post-social-links > a:focus > .fa-linkedin-in {
                        color: #2867B2;
                    }

                    .post-social-links > a:hover > .fa-twitter, .post-social-links > a:focus > .fa-twitter {
                        color: #1DA1F2;
                    }

                    .post-social-links > a:hover > .fa-facebook-f, .post-social-links > a:focus > .fa-facebook-f {
                        color: #4267B2;
                    }

                    .post-social-links > a:hover > .fa-xing, .post-social-links > a:focus > .fa-xing {
                        color: #026466;
                    }

                    .post-social-links > a:hover > .fa-print, .post-social-links > a:focus > .fa-print {
                        color: #ff5271;
                    }

        .istatoy-icon {
            width: 18px;
            top: 3px;
            position: relative;
        }

            .istatoy-icon > .st1 {
                fill: #333;
            }

        a:hover > .istatoy-icon > .st1 {
            fill: #ff5271;
        }

        .istatoy-icon > .st3,
        .istatoy-icon > .st4 {
            fill: #333;
        }

        a:hover > .istatoy-icon > .st3,
        a:hover > .istatoy-icon > .st4 {
            fill: #ff5271;
        }

        .post-body {
            display: flex;
        }

        .post-body-side-bar {
            flex-grow: 1;
            min-width: 15%;
        }

        .post-body-content {
            flex-grow: 5;
            background-color: #fff;
            padding: 110px 80px 40px 80px;
            margin-top: -30px;
        }

        .post-passle-stylistic {
            text-orientation: sideways-right;
            writing-mode: vertical-lr;
            transform: rotate( 180deg);
            font-size: 5vw;
            left: calc(100% - 5vw);
            position: relative;
            white-space: nowrap;
            color: #333;
            opacity: .14;
            margin-top: 80px;
            font-family: "Bodoni Moda", sans-serif !important;
            overflow: hidden;
            line-height: 1.25;
        }

        .post-body-quote-container {
            position: relative;
            margin: 40px 0;
        }

        .post-body-quote-border {
            border-left: 5px solid #ff5271;
            height: calc(100% - 12px);
            position: absolute;
            margin-left: 40px;
            margin-top: 7px;
        }

        .post-body-quote {
            margin-left: 80px;
            font-family: 'Bodoni Moda';
            font-size: 28px;
            margin-right: 40px;
        }

        .post-body-quote-url {
            margin-left: 80px;
            color: #ff5271;
            text-decoration: none;
            font-size: 19px;
            margin-top: 20px;
        }

            .post-body-quote-url:hover, .post-body-quote-url:focus {
                color: #ff5271;
                text-decoration: underline;
            }

        .post-body-tags {
            margin-top: 40px;
            font-size: 19px;
        }

        .post-body-tags-list {
            color: #ff5271;
        }

            .post-body-tags-list:before {
                font-family: "Font Awesome 5 Pro";
                font-weight: 900;
                content: "\f02c";
                margin-right: 10px;
                color: #333;
            }

        .post-body-tweets {
            margin-top: 40px;
        }

        .post-body-text {
            font-size: 19px;
        }

            .post-body-text > p {
                margin: 0 0 20px;
            }

                .post-body-text > p > a {
                    color: #ff5271;
                }
    </style>
}

